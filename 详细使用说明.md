# ChatGPT Deep Research è‡ªåŠ¨åŒ–å·¥å…· - è¯¦ç»†ä½¿ç”¨è¯´æ˜

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
2. [ç³»ç»Ÿè¦æ±‚](#ç³»ç»Ÿè¦æ±‚)
3. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
4. [è¯¦ç»†å®‰è£…æ­¥éª¤](#è¯¦ç»†å®‰è£…æ­¥éª¤)
5. [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
6. [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)
7. [é«˜çº§åŠŸèƒ½](#é«˜çº§åŠŸèƒ½)
8. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
9. [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
10. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)

---

## é¡¹ç›®ç®€ä»‹

ChatGPT Deep Research Automator æ˜¯ä¸€ä¸ªåŸºäº Docker çš„è‡ªåŠ¨åŒ–å·¥å…·ï¼Œå¯ä»¥é€šè¿‡ç¼–ç¨‹æ–¹å¼ä½¿ç”¨ OpenAI ChatGPT çš„ Deep Researchï¼ˆæ·±åº¦ç ”ç©¶ï¼‰åŠŸèƒ½ã€‚è¯¥å·¥å…·é€šè¿‡è‡ªåŠ¨åŒ–æµè§ˆå™¨æ“ä½œï¼Œå®ç°æ‰¹é‡å¤„ç†ç ”ç©¶ä»»åŠ¡ï¼Œå¤§å¹…æå‡ç ”ç©¶æ•ˆç‡ã€‚

### æ ¸å¿ƒç‰¹æ€§

- **ğŸ¤– å®Œå…¨è‡ªåŠ¨åŒ–**ï¼šæ— éœ€æ‰‹åŠ¨æ“ä½œ ChatGPT Web UI
- **ğŸ³ Docker å®¹å™¨åŒ–**ï¼šä¸€é”®éƒ¨ç½²ï¼Œç¯å¢ƒéš”ç¦»ï¼Œæ— éœ€å¤æ‚é…ç½®
- **ğŸ‘ï¸ VNC å®æ—¶ç›‘æ§**ï¼šé€šè¿‡ VNC æŸ¥çœ‹å™¨å®æ—¶è§‚å¯Ÿè‡ªåŠ¨åŒ–è¿‡ç¨‹
- **ğŸ“š æ‰¹é‡å¤„ç†**ï¼šæ”¯æŒåŒæ—¶å¤„ç†å¤šä¸ªç ”ç©¶ä»»åŠ¡
- **ğŸ’¾ å¤šæ ¼å¼è¾“å‡º**ï¼šè‡ªåŠ¨ä¿å­˜ HTML å’Œ Markdown æ ¼å¼çš„ç ”ç©¶ç»“æœ
- **ğŸŒ å¤šè¯­è¨€æ”¯æŒ**ï¼šæ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡ã€éŸ©æ–‡ç•Œé¢

---

## ç³»ç»Ÿè¦æ±‚

### å¿…éœ€è½¯ä»¶

- **Docker**ï¼šç‰ˆæœ¬ 20.10 æˆ–æ›´é«˜
- **Docker Compose**ï¼šç‰ˆæœ¬ 1.29 æˆ–æ›´é«˜
- **VNC Viewer**ï¼ˆå¯é€‰ï¼‰ï¼šç”¨äºç›‘æ§è‡ªåŠ¨åŒ–è¿‡ç¨‹
  - æ¨èï¼šRealVNC Viewerã€TightVNC Viewer æˆ– TigerVNC

### ç¡¬ä»¶è¦æ±‚

- **å†…å­˜**ï¼šè‡³å°‘ 4GB RAMï¼ˆæ¨è 8GBï¼‰
- **å­˜å‚¨ç©ºé—´**ï¼šè‡³å°‘ 2GB å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**ï¼šç¨³å®šçš„äº’è”ç½‘è¿æ¥

### æ”¯æŒçš„æ“ä½œç³»ç»Ÿ

- Windows 10/11
- macOS 10.15 æˆ–æ›´é«˜
- Linuxï¼ˆUbuntu 20.04+ã€Debian 10+ã€CentOS 8+ ç­‰ï¼‰

---

## å¿«é€Ÿå¼€å§‹

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/Yuqin-THU/ChatGPT-Deep-Research-Automator.git
cd ChatGPT-Deep-Research-Automator

# 2. æ„å»º Docker é•œåƒ
docker compose build

# 3. å¯åŠ¨å®¹å™¨
docker compose up -d

# 4. è¿›å…¥å®¹å™¨
docker compose exec chrome sh

# 5. é…ç½®è®¤è¯ä¿¡æ¯ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰
cd /app
echo 'MAIL="your-email@example.com"' > .env
echo 'PASSWORD="your-password"' >> .env
python make_session_file.py

# 6. è¿è¡Œå•ä¸ªä»»åŠ¡
python run_DeepResearch.py --prompt_path sample_prompt.txt
```

---

## è¯¦ç»†å®‰è£…æ­¥éª¤

### æ­¥éª¤ 1ï¼šå®‰è£… Docker

#### Windows
1. ä¸‹è½½ [Docker Desktop for Windows](https://www.docker.com/products/docker-desktop)
2. è¿è¡Œå®‰è£…ç¨‹åºå¹¶æŒ‰ç…§æç¤ºå®Œæˆå®‰è£…
3. é‡å¯è®¡ç®—æœº
4. å¯åŠ¨ Docker Desktop

#### macOS
1. ä¸‹è½½ [Docker Desktop for Mac](https://www.docker.com/products/docker-desktop)
2. å°† Docker.app æ‹–åˆ°åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹
3. å¯åŠ¨ Docker Desktop

#### Linux (Ubuntu/Debian)
```bash
# æ›´æ–°åŒ…ç´¢å¼•
sudo apt-get update

# å®‰è£…ä¾èµ–
sudo apt-get install ca-certificates curl gnupg lsb-release

# æ·»åŠ  Docker å®˜æ–¹ GPG å¯†é’¥
sudo mkdir -p /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

# è®¾ç½®ä»“åº“
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
  $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# å®‰è£… Docker Engine
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin

# éªŒè¯å®‰è£…
sudo docker run hello-world
```

### æ­¥éª¤ 2ï¼šå…‹éš†é¡¹ç›®

```bash
# ä½¿ç”¨ HTTPS
git clone https://github.com/Yuqin-THU/ChatGPT-Deep-Research-Automator.git

# æˆ–ä½¿ç”¨ SSH
git clone git@github.com:Yuqin-THU/ChatGPT-Deep-Research-Automator.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd ChatGPT-Deep-Research-Automator
```

### æ­¥éª¤ 3ï¼šæ„å»º Docker é•œåƒ

```bash
# æ„å»ºé•œåƒï¼ˆé¦–æ¬¡è¿è¡Œéœ€è¦å‡ åˆ†é’Ÿï¼‰
docker compose build

# æŸ¥çœ‹æ„å»ºçš„é•œåƒ
docker images | grep chatgpt
```

### æ­¥éª¤ 4ï¼šå¯åŠ¨å®¹å™¨

```bash
# å¯åŠ¨å®¹å™¨ï¼ˆåå°è¿è¡Œï¼‰
docker compose up -d

# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker compose ps

# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker compose logs -f
```

---

## é…ç½®è¯´æ˜

### 1. è®¤è¯é…ç½®ï¼ˆ.env æ–‡ä»¶ï¼‰

é¦–æ¬¡ä½¿ç”¨éœ€è¦é…ç½® ChatGPT è´¦å·ä¿¡æ¯ï¼š

```bash
# è¿›å…¥å®¹å™¨
docker compose exec chrome sh

# åˆ›å»º .env æ–‡ä»¶
cd /app
cat > .env << EOF
MAIL="your-email@example.com"
PASSWORD="your-password"
EOF

# ç”Ÿæˆä¼šè¯æ–‡ä»¶
python make_session_file.py
```

**æ³¨æ„äº‹é¡¹**ï¼š
- ä½¿ç”¨çœŸå®çš„ ChatGPT è´¦å·é‚®ç®±å’Œå¯†ç 
- `.env` æ–‡ä»¶ä¼šè¢« `.gitignore` å¿½ç•¥ï¼Œä¸ä¼šæäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
- ä¼šè¯æ–‡ä»¶ `.session.dat` ç”Ÿæˆåå¯é‡å¤ä½¿ç”¨ï¼Œæ— éœ€æ¯æ¬¡ç™»å½•

### 2. é…ç½®æ–‡ä»¶ï¼ˆconfig.yamlï¼‰

é…ç½®æ–‡ä»¶ä½äº `app/config.yaml`ï¼ŒåŒ…å«ä»¥ä¸‹è®¾ç½®ï¼š

```yaml
browser:
  headless: false  # æ˜¯å¦ä½¿ç”¨æ— å¤´æ¨¡å¼ï¼ˆtrue=ä¸æ˜¾ç¤ºæµè§ˆå™¨ç•Œé¢ï¼‰

urls:
  chatgpt: "https://chatgpt.com/"  # ChatGPT ç½‘å€

prompt:
  default_path: "sample_prompt.txt"  # é»˜è®¤æç¤ºæ–‡ä»¶è·¯å¾„
  encoding: "utf-8"  # æ–‡ä»¶ç¼–ç 
  revise: ""  # ä¿®è®¢æç¤ºï¼ˆç•™ç©ºåˆ™ä½¿ç”¨é»˜è®¤ï¼‰

selectors:
  # CSS é€‰æ‹©å™¨ï¼ˆé€šå¸¸æ— éœ€ä¿®æ”¹ï¼‰
  text_input_placeholder: "p[data-placeholder=\"Ask anything\"]"
  followup_placeholder: "p[data-placeholder=\"Provide as many details as possible for best results.\"]"
  parent_container: "w-full"
  send_button: "[data-testid=\"send-button\"]"
  speech_button: "[data-testid=\"composer-speech-button\"]"
  copy_button: "button[data-testid=\"copy-turn-action-button\"]"
  main_article: "main article"

buttons:
  deep_research: "Deep Research"  # Deep Research æŒ‰é’®æ–‡æœ¬

timings:
  initial_wait: 10  # åˆå§‹ç­‰å¾…æ—¶é—´ï¼ˆç§’ï¼‰
  button_check_interval: 0.5  # æŒ‰é’®æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰
  max_wait_time_revise: 120  # ä¿®è®¢æœ€å¤§ç­‰å¾…æ—¶é—´ï¼ˆç§’ï¼‰
  max_wait_time: 1800  # æœ€å¤§ç­‰å¾…æ—¶é—´ï¼ˆ30åˆ†é’Ÿï¼‰
  short_wait: 1  # çŸ­æš‚ç­‰å¾…æ—¶é—´ï¼ˆç§’ï¼‰

output:
  base_dir: "response"  # è¾“å‡ºåŸºç¡€ç›®å½•
  html_file: "output.html"  # HTML è¾“å‡ºæ–‡ä»¶å
  markdown_file: "output.md"  # Markdown è¾“å‡ºæ–‡ä»¶å

clipboard:
  command: "xclip -selection clipboard -o > output.md"  # å‰ªè´´æ¿å‘½ä»¤

lang: "ja"  # ç•Œé¢è¯­è¨€ï¼šja(æ—¥æ–‡) / en(è‹±æ–‡) / zh(ä¸­æ–‡) / ko(éŸ©æ–‡)
```

#### å¸¸ç”¨é…ç½®ä¿®æ”¹

**ä¿®æ”¹è¾“å‡ºç›®å½•**ï¼š
```yaml
output:
  base_dir: "/app/my_results"  # è‡ªå®šä¹‰è¾“å‡ºç›®å½•
```

**å¯ç”¨æ— å¤´æ¨¡å¼ï¼ˆæé«˜æ€§èƒ½ï¼‰**ï¼š
```yaml
browser:
  headless: true  # ä¸æ˜¾ç¤ºæµè§ˆå™¨ç•Œé¢
```

**è°ƒæ•´ç­‰å¾…æ—¶é—´ï¼ˆç½‘ç»œè¾ƒæ…¢æ—¶ï¼‰**ï¼š
```yaml
timings:
  initial_wait: 15  # å¢åŠ åˆ°15ç§’
  max_wait_time: 3600  # å¢åŠ åˆ°60åˆ†é’Ÿ
```

---

## ä½¿ç”¨æ–¹æ³•

### æ–¹æ³• 1ï¼šå¤„ç†å•ä¸ªæç¤ºæ–‡ä»¶

#### åŸºæœ¬ç”¨æ³•

```bash
# è¿›å…¥å®¹å™¨
docker compose exec chrome sh

# è¿è¡Œè„šæœ¬
cd /app
python run_DeepResearch.py --prompt_path <æç¤ºæ–‡ä»¶è·¯å¾„>
```

#### ç¤ºä¾‹

```bash
# ä½¿ç”¨é»˜è®¤é…ç½®
python run_DeepResearch.py --prompt_path sample_prompt.txt

# æŒ‡å®šè¾“å‡ºç›®å½•
python run_DeepResearch.py --prompt_path my_prompt.txt --output_dir /app/results

# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–‡ä»¶
python run_DeepResearch.py --config custom_config.yaml --prompt_path my_prompt.txt
```

#### å‚æ•°è¯´æ˜

- `--prompt_path`ï¼šæç¤ºæ–‡ä»¶çš„è·¯å¾„ï¼ˆå¿…éœ€ï¼‰
- `--output_dir`ï¼šè¾“å‡ºç›®å½•ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä¸º `/app/response`ï¼‰
- `--config`ï¼šé…ç½®æ–‡ä»¶è·¯å¾„ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä¸º `config.yaml`ï¼‰

### æ–¹æ³• 2ï¼šæ‰¹é‡å¤„ç†å¤šä¸ªæç¤ºæ–‡ä»¶

#### åŸºæœ¬ç”¨æ³•

```bash
python batch_process_prompts.py --prompt_dir <æç¤ºæ–‡ä»¶ç›®å½•>
```

#### ç¤ºä¾‹

```bash
# åŸºæœ¬æ‰¹é‡å¤„ç†
python batch_process_prompts.py --prompt_dir /app/prompts

# æŒ‡å®šè¾“å‡ºç›®å½•å’Œå¹¶å‘æ•°
python batch_process_prompts.py \
  --prompt_dir /app/prompts \
  --output_base_dir /app/batch_results \
  --max-workers 3

# è°ƒæ•´ä»»åŠ¡å¯åŠ¨é—´éš”
python batch_process_prompts.py \
  --prompt_dir /app/prompts \
  --interval 15 \
  --max-workers 2
```

#### å‚æ•°è¯´æ˜

- `--prompt_dir`ï¼šåŒ…å«æç¤ºæ–‡ä»¶çš„ç›®å½•ï¼ˆå¿…éœ€ï¼‰
- `--output_base_dir`ï¼šè¾“å‡ºåŸºç¡€ç›®å½•ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä¸º `/app/response`ï¼‰
- `--max-workers`ï¼šæœ€å¤§å¹¶å‘è¿›ç¨‹æ•°ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä¸º 5ï¼‰
- `--interval`ï¼šæ–°ä»»åŠ¡å¯åŠ¨é—´éš”ç§’æ•°ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä¸º 10ï¼‰

#### æ‰¹é‡å¤„ç†ç›®å½•ç»“æ„

```
prompts/
â”œâ”€â”€ research_topic_1.txt
â”œâ”€â”€ research_topic_2.txt
â””â”€â”€ research_topic_3.txt

# è¿è¡Œåç”Ÿæˆï¼š
response/
â”œâ”€â”€ research_topic_1/
â”‚   â”œâ”€â”€ output.html
â”‚   â”œâ”€â”€ output.md
â”‚   â””â”€â”€ url.txt
â”œâ”€â”€ research_topic_2/
â”‚   â”œâ”€â”€ output.html
â”‚   â”œâ”€â”€ output.md
â”‚   â””â”€â”€ url.txt
â””â”€â”€ research_topic_3/
    â”œâ”€â”€ output.html
    â”œâ”€â”€ output.md
    â””â”€â”€ url.txt
```

### æ–¹æ³• 3ï¼šä½¿ç”¨ VNC ç›‘æ§

1. **å¯åŠ¨ VNC Viewer**
2. **è¿æ¥åˆ°**ï¼š`localhost:5900`
3. **è¾“å…¥å¯†ç **ï¼š`1234`
4. **è§‚å¯Ÿè‡ªåŠ¨åŒ–è¿‡ç¨‹**ï¼šå¯ä»¥å®æ—¶çœ‹åˆ°æµè§ˆå™¨æ“ä½œ

---

## é«˜çº§åŠŸèƒ½

### 1. è‡ªå®šä¹‰æç¤ºæ–‡ä»¶æ ¼å¼

æç¤ºæ–‡ä»¶æ”¯æŒå¤šè¡Œæ–‡æœ¬å’Œç‰¹æ®Šæ ¼å¼ï¼š

```text
è¯·æ·±å…¥ç ”ç©¶ä»¥ä¸‹ä¸»é¢˜ï¼š

ä¸»é¢˜ï¼šäººå·¥æ™ºèƒ½åœ¨åŒ»ç–—é¢†åŸŸçš„åº”ç”¨

ç ”ç©¶è¦ç‚¹ï¼š
1. å½“å‰ä¸»è¦åº”ç”¨åœºæ™¯
2. æŠ€æœ¯æŒ‘æˆ˜å’Œé™åˆ¶
3. æœªæ¥å‘å±•è¶‹åŠ¿
4. ä¼¦ç†å’Œéšç§é—®é¢˜

è¯·æä¾›è¯¦ç»†çš„åˆ†æå’Œæ¡ˆä¾‹ç ”ç©¶ã€‚
```

### 2. ä¿®è®¢æç¤ºï¼ˆRevise Promptï¼‰

åœ¨ `config.yaml` ä¸­è®¾ç½®ä¿®è®¢æç¤ºï¼Œå¯ä»¥åœ¨åˆæ¬¡ç ”ç©¶åè‡ªåŠ¨è¿›è¡ŒäºŒæ¬¡ä¼˜åŒ–ï¼š

```yaml
prompt:
  revise: "è¯·è¡¥å……æ›´å¤šå®é™…æ¡ˆä¾‹ï¼Œå¹¶æä¾›æ•°æ®æ”¯æŒã€‚"
```

å¦‚æœç•™ç©ºï¼Œç³»ç»Ÿä¼šä½¿ç”¨é»˜è®¤æç¤ºã€‚

### 3. è¾“å‡ºæ–‡ä»¶è¯´æ˜

æ¯æ¬¡è¿è¡Œä¼šç”Ÿæˆä¸‰ä¸ªæ–‡ä»¶ï¼š

1. **output.html**ï¼šå®Œæ•´çš„ HTML æ ¼å¼ç»“æœï¼ŒåŒ…å«æ ¼å¼å’Œæ ·å¼
2. **output.md**ï¼šMarkdown æ ¼å¼ç»“æœï¼Œä¾¿äºç¼–è¾‘å’Œç‰ˆæœ¬æ§åˆ¶
3. **url.txt**ï¼šChatGPT å¯¹è¯çš„ URLï¼Œå¯ä»¥ç›´æ¥è®¿é—®æŸ¥çœ‹åŸå§‹å¯¹è¯

### 4. ä¼šè¯ç®¡ç†

```bash
# æŸ¥çœ‹å½“å‰ä¼šè¯
ls -la /app/.session.dat

# åˆ é™¤ä¼šè¯ï¼ˆéœ€è¦é‡æ–°ç™»å½•ï¼‰
rm /app/.session.dat

# é‡æ–°ç”Ÿæˆä¼šè¯
python make_session_file.py
```

### 5. å®¹å™¨ç®¡ç†

```bash
# åœæ­¢å®¹å™¨
docker compose stop

# å¯åŠ¨å®¹å™¨
docker compose start

# é‡å¯å®¹å™¨
docker compose restart

# åˆ é™¤å®¹å™¨ï¼ˆä¿ç•™æ•°æ®ï¼‰
docker compose down

# åˆ é™¤å®¹å™¨å’Œæ•°æ®å·
docker compose down -v

# æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨
docker stats
```

---

## å¸¸è§é—®é¢˜

### Q1ï¼šé¦–æ¬¡è¿è¡Œæ—¶æç¤º "ä¼šè¯æ–‡ä»¶ä¸å­˜åœ¨"

**è§£å†³æ–¹æ³•**ï¼š
```bash
docker compose exec chrome sh
cd /app
python make_session_file.py
```

### Q2ï¼šVNC è¿æ¥å¤±è´¥

**å¯èƒ½åŸå› **ï¼š
- å®¹å™¨æœªå¯åŠ¨ï¼šè¿è¡Œ `docker compose ps` æ£€æŸ¥
- ç«¯å£è¢«å ç”¨ï¼šæ£€æŸ¥ 5900 ç«¯å£æ˜¯å¦è¢«å…¶ä»–ç¨‹åºä½¿ç”¨
- é˜²ç«å¢™é˜»æ­¢ï¼šä¸´æ—¶å…³é—­é˜²ç«å¢™æµ‹è¯•

**è§£å†³æ–¹æ³•**ï¼š
```bash
# æ£€æŸ¥ç«¯å£
netstat -an | grep 5900  # Linux/Mac
netstat -an | findstr 5900  # Windows

# é‡å¯å®¹å™¨
docker compose restart
```

### Q3ï¼šDeep Research è¶…æ—¶

**åŸå› **ï¼šç ”ç©¶ä»»åŠ¡å¤æ‚ï¼Œéœ€è¦æ›´é•¿æ—¶é—´

**è§£å†³æ–¹æ³•**ï¼šä¿®æ”¹ `config.yaml`
```yaml
timings:
  max_wait_time: 3600  # å¢åŠ åˆ°60åˆ†é’Ÿ
```

### Q4ï¼šæ‰¹é‡å¤„ç†æ—¶éƒ¨åˆ†ä»»åŠ¡å¤±è´¥

**è§£å†³æ–¹æ³•**ï¼š
- å‡å°‘å¹¶å‘æ•°ï¼š`--max-workers 2`
- å¢åŠ å¯åŠ¨é—´éš”ï¼š`--interval 20`
- æ£€æŸ¥å¤±è´¥çš„æç¤ºæ–‡ä»¶æ ¼å¼

### Q5ï¼šè¾“å‡ºæ–‡ä»¶ä¸ºç©ºæˆ–ä¸å®Œæ•´

**å¯èƒ½åŸå› **ï¼š
- ç½‘ç»œä¸ç¨³å®š
- ChatGPT æœåŠ¡å¼‚å¸¸
- é€‰æ‹©å™¨å¤±æ•ˆï¼ˆChatGPT ç•Œé¢æ›´æ–°ï¼‰

**è§£å†³æ–¹æ³•**ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. é€šè¿‡ VNC æŸ¥çœ‹å®é™…è¿è¡Œæƒ…å†µ
3. é‡æ–°è¿è¡Œä»»åŠ¡
4. æ›´æ–°é¡¹ç›®åˆ°æœ€æ–°ç‰ˆæœ¬

### Q6ï¼šå¦‚ä½•åœ¨ Windows ä¸Šä½¿ç”¨ï¼Ÿ

é¡¹ç›®å®Œå…¨æ”¯æŒ Windowsï¼Œä½†éœ€è¦æ³¨æ„ï¼š
- ä½¿ç”¨ PowerShell æˆ– CMD è¿è¡Œ Docker å‘½ä»¤
- è·¯å¾„ä½¿ç”¨åæ–œæ æˆ–æ­£æ–œæ å‡å¯
- ç¡®ä¿ Docker Desktop æ­£åœ¨è¿è¡Œ

---

## æ•…éšœæ’é™¤

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker compose logs -f

# æŸ¥çœ‹æœ€è¿‘100è¡Œæ—¥å¿—
docker compose logs --tail=100

# æŸ¥çœ‹ç‰¹å®šæ—¶é—´çš„æ—¥å¿—
docker compose logs --since 30m
```

### è°ƒè¯•æ¨¡å¼

ä¿®æ”¹ `config.yaml` å¯ç”¨è¯¦ç»†æ—¥å¿—ï¼š

```yaml
browser:
  headless: false  # æ˜¾ç¤ºæµè§ˆå™¨ç•Œé¢ä»¥ä¾¿è°ƒè¯•
```

### é‡ç½®ç¯å¢ƒ

```bash
# å®Œå…¨é‡ç½®
docker compose down -v
docker compose build --no-cache
docker compose up -d
```

### å¸¸è§é”™è¯¯ä»£ç 

| é”™è¯¯ä¿¡æ¯ | åŸå›  | è§£å†³æ–¹æ³• |
|---------|------|---------|
| `Connection refused` | Docker æœªå¯åŠ¨ | å¯åŠ¨ Docker Desktop |
| `Permission denied` | æƒé™ä¸è¶³ | ä½¿ç”¨ `sudo` æˆ–ç®¡ç†å‘˜æƒé™ |
| `Port already in use` | ç«¯å£è¢«å ç”¨ | ä¿®æ”¹ `docker-compose.yml` ä¸­çš„ç«¯å£ |
| `Element not found` | é¡µé¢å…ƒç´ å˜åŒ– | æ›´æ–°é¡¹ç›®æˆ–ä¿®æ”¹é€‰æ‹©å™¨ |
| `Timeout` | ç­‰å¾…æ—¶é—´ä¸è¶³ | å¢åŠ  `max_wait_time` |

---

## æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

- **Python 3.10**ï¼šä¸»è¦ç¼–ç¨‹è¯­è¨€
- **nodriver**ï¼šæ— æ£€æµ‹æµè§ˆå™¨è‡ªåŠ¨åŒ–åº“
- **Docker**ï¼šå®¹å™¨åŒ–éƒ¨ç½²
- **Chromium**ï¼šæµè§ˆå™¨å¼•æ“
- **Xvfb**ï¼šè™šæ‹Ÿæ˜¾ç¤ºæœåŠ¡å™¨
- **x11vnc**ï¼šVNC æœåŠ¡å™¨
- **Fluxbox**ï¼šè½»é‡çº§çª—å£ç®¡ç†å™¨

### é¡¹ç›®ç»“æ„

```
ChatGPT-Deep-Research-Automator/
â”œâ”€â”€ app/                          # åº”ç”¨ä»£ç 
â”‚   â”œâ”€â”€ batch_process_prompts.py  # æ‰¹é‡å¤„ç†è„šæœ¬
â”‚   â”œâ”€â”€ make_session_file.py      # ä¼šè¯ç”Ÿæˆè„šæœ¬
â”‚   â”œâ”€â”€ run_DeepResearch.py       # ä¸»è¿è¡Œè„šæœ¬
â”‚   â”œâ”€â”€ config.yaml               # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ prompts/                  # æç¤ºæ–‡ä»¶ç›®å½•
â”‚   â”‚   â””â”€â”€ us_states.txt         # ç¤ºä¾‹æç¤ºæ–‡ä»¶
â”‚   â””â”€â”€ response/                 # é»˜è®¤è¾“å‡ºç›®å½•
â”œâ”€â”€ scripts/                      # å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ startup.sh                # å®¹å™¨å¯åŠ¨è„šæœ¬
â”œâ”€â”€ gifs/                         # æ¼”ç¤ºåŠ¨å›¾
â”œâ”€â”€ docker-compose.yml            # Docker Compose é…ç½®
â”œâ”€â”€ Dockerfile                    # Docker é•œåƒå®šä¹‰
â”œâ”€â”€ requirements.txt              # Python ä¾èµ–
â”œâ”€â”€ local.conf                    # å­—ä½“é…ç½®
â”œâ”€â”€ .gitignore                    # Git å¿½ç•¥æ–‡ä»¶
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
```

### å·¥ä½œæµç¨‹

1. **å¯åŠ¨å®¹å™¨**ï¼šDocker å¯åŠ¨åŒ…å« Chromium å’Œ VNC çš„ç¯å¢ƒ
2. **åŠ è½½ä¼šè¯**ï¼šä» `.session.dat` åŠ è½½ ChatGPT ç™»å½•çŠ¶æ€
3. **æ‰“å¼€é¡µé¢**ï¼šä½¿ç”¨ nodriver æ§åˆ¶ Chromium è®¿é—® ChatGPT
4. **è¾“å…¥æç¤º**ï¼šè‡ªåŠ¨è¾“å…¥ç ”ç©¶æç¤ºå¹¶ç‚¹å‡» Deep Research
5. **ç­‰å¾…å®Œæˆ**ï¼šé€šè¿‡å¤šç§æ–¹å¼æ£€æµ‹ç ”ç©¶å®Œæˆï¼ˆassistant turn copy æŒ‰é’®ã€iframe æ¸²æŸ“çŠ¶æ€ã€"Research completed" æ–‡æœ¬ç­‰ï¼‰
6. **æå–ç»“æœ**ï¼šé€šè¿‡ CDPï¼ˆChrome DevTools Protocolï¼‰ç©¿é€åŒå±‚åµŒå¥— iframeï¼Œç‚¹å‡» Export æŒ‰é’®æˆ–ç›´æ¥æå–å†…å®¹
7. **ä¿å­˜æ–‡ä»¶**ï¼šå°† HTML å’Œ Markdown æ ¼å¼çš„ç»“æœä¿å­˜åˆ°æŒ‡å®šç›®å½•

### ç»“æœæå–æœºåˆ¶

å·¥å…·ä½¿ç”¨å¤šå±‚å›é€€ç­–ç•¥æå– Deep Research ç»“æœï¼š

1. **åæ ‡ç‚¹å‡»ä¸‹è½½**ï¼šå°è¯•é€šè¿‡ CDP é¼ æ ‡äº‹ä»¶ç‚¹å‡» iframe å†…çš„ä¸‹è½½æŒ‰é’®
2. **CDP iframe æå–**ï¼ˆä¸»è¦æ–¹å¼ï¼‰ï¼š
   - é€šè¿‡ `Target.attachToTarget` è¿æ¥åˆ°å¤–å±‚ sandbox iframe
   - é€šè¿‡ `Page.getFrameTree` æ‰¾åˆ°å†…å±‚ iframe#root
   - é€šè¿‡ `Page.createIsolatedWorld` åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡
   - åœ¨å†…å±‚ iframe ä¸­ç‚¹å‡» Export æŒ‰é’®æˆ–æå– `innerText`
3. **å‰ªè´´æ¿æ–¹å¼**ï¼šé€šè¿‡å¤åˆ¶æŒ‰é’® + xclip è·å–ç»“æœ

### ä¾èµ–è¯´æ˜

```python
nodriver      # æµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼Œç»•è¿‡åçˆ¬è™«æ£€æµ‹
PyYAML        # YAML é…ç½®æ–‡ä»¶è§£æ
pyperclip     # å‰ªè´´æ¿æ“ä½œï¼ˆç”¨äºå¤åˆ¶ç»“æœï¼‰
```

---

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/Yuqin-THU/ChatGPT-Deep-Research-Automator.git
cd ChatGPT-Deep-Research-Automator

# åˆ›å»ºå¼€å‘åˆ†æ”¯
git checkout -b feature/your-feature

# è¿›è¡Œä¿®æ”¹åæäº¤
git add .
git commit -m "Add: your feature description"
git push origin feature/your-feature
```

---

## è®¸å¯è¯

è¯·æŸ¥çœ‹ LICENSE æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

## è”ç³»æ–¹å¼

- **é—®é¢˜åé¦ˆ**ï¼šé€šè¿‡ GitHub Issues æäº¤
- **åŠŸèƒ½å»ºè®®**ï¼šé€šè¿‡ GitHub Discussions è®¨è®º

---

## æ›´æ–°æ—¥å¿—

### v2.0.0
- é€šè¿‡ CDP Target.attachToTarget ç©¿é€åŒå±‚åµŒå¥— iframe æå–å†…å®¹
- æ”¹è¿› Deep Research å®Œæˆæ£€æµ‹ï¼ˆassistant turn copy æŒ‰é’® + iframe æ¸²æŸ“çŠ¶æ€ï¼‰
- æ–°å¢ Export æŒ‰é’®ç‚¹å‡» + innerText æå–åŒé‡å›é€€ç­–ç•¥
- æ–°å¢ prompts ç›®å½•å­˜æ”¾æç¤ºæ–‡ä»¶
- ä¿®å¤åæ ‡ç‚¹å‡»æ— æ³•ç©¿é€ cross-origin sandbox iframe çš„é—®é¢˜

### v1.0.0
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒå•ä¸ªå’Œæ‰¹é‡å¤„ç†
- VNC ç›‘æ§åŠŸèƒ½
- å¤šæ ¼å¼è¾“å‡º

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼ğŸš€**
